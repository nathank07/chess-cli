/*! For license information please see home.js.LICENSE.txt */
(()=>{"use strict";var t,e,r,n,o={600:(t,e,r)=>{r.d(e,{qQ:()=>T});const n="w",o="b",i="p",a="b",c="r",s="q",u="k",l="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",h=-1,f={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},d={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},p={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},v={b:[16,32,17,15],w:[-16,-32,-17,-15]},m={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},y=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],g=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],b={p:1,n:2,b:4,r:8,q:16,k:32},w=["n",a,c,s],_={[u]:d.KSIDE_CASTLE,[s]:d.QSIDE_CASTLE},E={w:[{square:p.a1,flag:d.QSIDE_CASTLE},{square:p.h1,flag:d.KSIDE_CASTLE}],b:[{square:p.a8,flag:d.QSIDE_CASTLE},{square:p.h8,flag:d.KSIDE_CASTLE}]},S={b:1,w:6},k=["1-0","0-1","1/2-1/2","*"];function L(t){return t>>4}function x(t){return 15&t}function C(t){return-1!=="0123456789".indexOf(t)}function P(t){const e=x(t),r=L(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(r,r+1)}function A(t){return t===n?o:n}function O(t,e,r,n,o,a=void 0,c=d.NORMAL){const s=L(n);if(o!==i||7!==s&&0!==s)t.push({color:e,from:r,to:n,piece:o,captured:a,flags:c});else for(let i=0;i<w.length;i++){const s=w[i];t.push({color:e,from:r,to:n,piece:o,captured:a,promotion:s,flags:c|d.PROMOTION})}}function N(t){let e=t.charAt(0);if(e>="a"&&e<="h"){if(t.match(/[a-h]\d.*[a-h]\d/))return;return i}return e=e.toLowerCase(),"o"===e?u:e}function M(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class T{_board=new Array(128);_turn=n;_header={};_kings={w:h,b:h};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};constructor(t=l){this.load(t)}clear(t=!1){this._board=new Array(128),this._kings={w:h,b:h},this._turn=n,this._castling={w:0,b:0},this._epSquare=h,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{},this._updateSetup(this.fen())}removeHeader(t){t in this._header&&delete this._header[t]}load(t,e=!1){let r=t.split(/\s+/);if(r.length>=2&&r.length<6){const e=["-","-","0","1"];t=r.concat(e.slice(-(6-r.length))).join(" ")}r=t.split(/\s+/);const{ok:i,error:a}=function(t){const e=t.split(/\s+/);if(6!==e.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(e[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(e[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=e[0].split("/");if(8!==o.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let t=0;t<o.length;t++){let e=0,r=!1;for(let n=0;n<o[t].length;n++)if(C(o[t][n])){if(r)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};e+=parseInt(o[t][n],10),r=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[t][n]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};e+=1,r=!1}if(8!==e)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==e[3][1]&&"w"==e[1]||"6"==e[3][1]&&"b"==e[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:t,regex:r}of i){if(!r.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${t} king`};if((e[0].match(r)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${t} kings`}}return{ok:!0}}(t);if(!i)throw new Error(a);const c=r[0];let s=0;this.clear(e);for(let t=0;t<c.length;t++){const e=c.charAt(t);if("/"===e)s+=8;else if(C(e))s+=parseInt(e,10);else{const t=e<"a"?n:o;this.put({type:e.toLowerCase(),color:t},P(s)),s++}}this._turn=r[1],r[2].indexOf("K")>-1&&(this._castling.w|=d.KSIDE_CASTLE),r[2].indexOf("Q")>-1&&(this._castling.w|=d.QSIDE_CASTLE),r[2].indexOf("k")>-1&&(this._castling.b|=d.KSIDE_CASTLE),r[2].indexOf("q")>-1&&(this._castling.b|=d.QSIDE_CASTLE),this._epSquare="-"===r[3]?h:p[r[3]],this._halfMoves=parseInt(r[4],10),this._moveNumber=parseInt(r[5],10),this._updateSetup(this.fen())}fen(){let t=0,e="";for(let r=p.a8;r<=p.h1;r++){if(this._board[r]){t>0&&(e+=t,t=0);const{color:o,type:i}=this._board[r];e+=o===n?i.toUpperCase():i.toLowerCase()}else t++;r+1&136&&(t>0&&(e+=t),r!==p.h1&&(e+="/"),t=0,r+=8)}let r="";this._castling[n]&d.KSIDE_CASTLE&&(r+="K"),this._castling[n]&d.QSIDE_CASTLE&&(r+="Q"),this._castling[o]&d.KSIDE_CASTLE&&(r+="k"),this._castling[o]&d.QSIDE_CASTLE&&(r+="q"),r=r||"-";let a="-";if(this._epSquare!==h){const t=this._epSquare+(this._turn===n?16:-16),e=[t+1,t-1];for(const t of e){if(136&t)continue;const e=this._turn;if(this._board[t]?.color===e&&this._board[t]?.type===i){this._makeMove({color:e,from:t,to:this._epSquare,piece:i,captured:i,flags:d.EP_CAPTURE});const r=!this._isKingAttacked(e);if(this._undoMove(),r){a=P(this._epSquare);break}}}}return[e,this._turn,r,a,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(t){this._history.length>0||(t!==l?(this._header.SetUp="1",this._header.FEN=t):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(l)}get(t){return this._board[p[t]]||!1}put({type:t,color:e},r){if(-1==="pnbrqkPNBRQK".indexOf(t.toLowerCase()))return!1;if(!(r in p))return!1;const n=p[r];return(t!=u||this._kings[e]==h||this._kings[e]==n)&&(this._board[n]={type:t,color:e},t===u&&(this._kings[e]=n),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}remove(t){const e=this.get(t);return delete this._board[p[t]],e&&e.type===u&&(this._kings[e.color]=h),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),e}_updateCastlingRights(){const t=this._board[p.e1]?.type===u&&this._board[p.e1]?.color===n,e=this._board[p.e8]?.type===u&&this._board[p.e8]?.color===o;t&&this._board[p.a1]?.type===c&&this._board[p.a1]?.color===n||(this._castling.w&=~d.QSIDE_CASTLE),t&&this._board[p.h1]?.type===c&&this._board[p.h1]?.color===n||(this._castling.w&=~d.KSIDE_CASTLE),e&&this._board[p.a8]?.type===c&&this._board[p.a8]?.color===o||(this._castling.b&=~d.QSIDE_CASTLE),e&&this._board[p.h8]?.type===c&&this._board[p.h8]?.color===o||(this._castling.b&=~d.KSIDE_CASTLE)}_updateEnPassantSquare(){if(this._epSquare===h)return;const t=this._epSquare+(this._turn===n?-16:16),e=this._epSquare+(this._turn===n?16:-16),r=[e+1,e-1];null===this._board[t]&&null===this._board[this._epSquare]&&this._board[e]?.color===A(this._turn)&&this._board[e]?.type===i&&r.some((t=>!(136&t)&&this._board[t]?.color===this._turn&&this._board[t]?.type===i))||(this._epSquare=h)}_attacked(t,e){for(let r=p.a8;r<=p.h1;r++){if(136&r){r+=7;continue}if(void 0===this._board[r]||this._board[r].color!==t)continue;const a=this._board[r],c=r-e;if(0===c)continue;const s=c+119;if(y[s]&b[a.type]){if(a.type===i){if(c>0){if(a.color===n)return!0}else if(a.color===o)return!0;continue}if("n"===a.type||"k"===a.type)return!0;const t=g[s];let u=r+t,l=!1;for(;u!==e;){if(null!=this._board[u]){l=!0;break}u+=t}if(!l)return!0}}return!1}_isKingAttacked(t){const e=this._kings[t];return-1!==e&&this._attacked(A(t),e)}isAttacked(t,e){return this._attacked(e,p[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&0===this._moves().length}isStalemate(){return!this.isCheck()&&0===this._moves().length}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},e=[];let r=0,n=0;for(let o=p.a8;o<=p.h1;o++){if(n=(n+1)%2,136&o){o+=7;continue}const i=this._board[o];i&&(t[i.type]=i.type in t?t[i.type]+1:1,i.type===a&&e.push(n),r++)}if(2===r)return!0;if(3===r&&(1===t[a]||1===t.n))return!0;if(r===t[a]+2){let t=0;const r=e.length;for(let n=0;n<r;n++)t+=e[n];if(0===t||t===r)return!0}return!1}isThreefoldRepetition(){const t=[],e={};let r=!1;for(;;){const e=this._undoMove();if(!e)break;t.push(e)}for(;;){const n=this.fen().split(" ").slice(0,4).join(" ");e[n]=n in e?e[n]+1:1,e[n]>=3&&(r=!0);const o=t.pop();if(!o)break;this._makeMove(o)}return r}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:t=!1,square:e,piece:r}={}){const n=this._moves({square:e,piece:r});return t?n.map((t=>this._makePretty(t))):n.map((t=>this._moveToSan(t,n)))}_moves({legal:t=!0,piece:e,square:r}={}){const n=r?r.toLowerCase():void 0,o=e?.toLowerCase(),a=[],c=this._turn,s=A(c);let l=p.a8,h=p.h1,f=!1;if(n){if(!(n in p))return[];l=h=p[n],f=!0}for(let t=l;t<=h;t++){if(136&t){t+=7;continue}if(!this._board[t]||this._board[t].color===s)continue;const{type:e}=this._board[t];let r;if(e===i){if(o&&o!==e)continue;r=t+v[c][0],this._board[r]||(O(a,c,t,r,i),r=t+v[c][1],S[c]!==L(t)||this._board[r]||O(a,c,t,r,i,void 0,d.BIG_PAWN));for(let e=2;e<4;e++)r=t+v[c][e],136&r||(this._board[r]?.color===s?O(a,c,t,r,i,this._board[r].type,d.CAPTURE):r===this._epSquare&&O(a,c,t,r,i,i,d.EP_CAPTURE))}else{if(o&&o!==e)continue;for(let n=0,o=m[e].length;n<o;n++){const o=m[e][n];for(r=t;r+=o,!(136&r);){if(this._board[r]){if(this._board[r].color===c)break;O(a,c,t,r,e,this._board[r].type,d.CAPTURE);break}if(O(a,c,t,r,e),"n"===e||e===u)break}}}}if(!(void 0!==o&&o!==u||f&&h!==this._kings[c])){if(this._castling[c]&d.KSIDE_CASTLE){const t=this._kings[c],e=t+2;this._board[t+1]||this._board[e]||this._attacked(s,this._kings[c])||this._attacked(s,t+1)||this._attacked(s,e)||O(a,c,this._kings[c],e,u,void 0,d.KSIDE_CASTLE)}if(this._castling[c]&d.QSIDE_CASTLE){const t=this._kings[c],e=t-2;this._board[t-1]||this._board[t-2]||this._board[t-3]||this._attacked(s,this._kings[c])||this._attacked(s,t-1)||this._attacked(s,e)||O(a,c,this._kings[c],e,u,void 0,d.QSIDE_CASTLE)}}if(!t||-1===this._kings[c])return a;const y=[];for(let t=0,e=a.length;t<e;t++)this._makeMove(a[t]),this._isKingAttacked(c)||y.push(a[t]),this._undoMove();return y}move(t,{strict:e=!1}={}){let r=null;if("string"==typeof t)r=this._moveFromSan(t,e);else if("object"==typeof t){const e=this._moves();for(let n=0,o=e.length;n<o;n++)if(t.from===P(e[n].from)&&t.to===P(e[n].to)&&(!("promotion"in e[n])||t.promotion===e[n].promotion)){r=e[n];break}}if(!r)throw"string"==typeof t?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);const n=this._makePretty(r);return this._makeMove(r),n}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(t){const e=this._turn,r=A(e);if(this._push(t),this._board[t.to]=this._board[t.from],delete this._board[t.from],t.flags&d.EP_CAPTURE&&(this._turn===o?delete this._board[t.to-16]:delete this._board[t.to+16]),t.promotion&&(this._board[t.to]={type:t.promotion,color:e}),this._board[t.to].type===u){if(this._kings[e]=t.to,t.flags&d.KSIDE_CASTLE){const e=t.to-1,r=t.to+1;this._board[e]=this._board[r],delete this._board[r]}else if(t.flags&d.QSIDE_CASTLE){const e=t.to+1,r=t.to-2;this._board[e]=this._board[r],delete this._board[r]}this._castling[e]=0}if(this._castling[e])for(let r=0,n=E[e].length;r<n;r++)if(t.from===E[e][r].square&&this._castling[e]&E[e][r].flag){this._castling[e]^=E[e][r].flag;break}if(this._castling[r])for(let e=0,n=E[r].length;e<n;e++)if(t.to===E[r][e].square&&this._castling[r]&E[r][e].flag){this._castling[r]^=E[r][e].flag;break}t.flags&d.BIG_PAWN?this._epSquare=e===o?t.to-16:t.to+16:this._epSquare=h,t.piece===i||t.flags&(d.CAPTURE|d.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,e===o&&this._moveNumber++,this._turn=r}undo(){const t=this._undoMove();return t?this._makePretty(t):null}_undoMove(){const t=this._history.pop();if(void 0===t)return null;const e=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber;const r=this._turn,n=A(r);if(this._board[e.from]=this._board[e.to],this._board[e.from].type=e.piece,delete this._board[e.to],e.captured)if(e.flags&d.EP_CAPTURE){let t;t=r===o?e.to-16:e.to+16,this._board[t]={type:i,color:n}}else this._board[e.to]={type:e.captured,color:n};if(e.flags&(d.KSIDE_CASTLE|d.QSIDE_CASTLE)){let t,r;e.flags&d.KSIDE_CASTLE?(t=e.to+1,r=e.to-1):(t=e.to-2,r=e.to+1),this._board[t]=this._board[r],delete this._board[r]}return e}pgn({newline:t="\n",maxWidth:e=0}={}){const r=[];let n=!1;for(const e in this._header)r.push("["+e+' "'+this._header[e]+'"]'+t),n=!0;n&&this._history.length&&r.push(t);const o=t=>{const e=this._comments[this.fen()];return void 0!==e&&(t=`${t}${t.length>0?" ":""}{${e}}`),t},i=[];for(;this._history.length>0;)i.push(this._undoMove());const a=[];let c="";for(0===i.length&&a.push(o(""));i.length>0;){c=o(c);const t=i.pop();if(!t)break;if(this._history.length||"b"!==t.color)"w"===t.color&&(c.length&&a.push(c),c=this._moveNumber+".");else{const t=`${this._moveNumber}. ...`;c=c?`${c} ${t}`:t}c=c+" "+this._moveToSan(t,this._moves({legal:!0})),this._makeMove(t)}if(c.length&&a.push(o(c)),void 0!==this._header.Result&&a.push(this._header.Result),0===e)return r.join("")+a.join(" ");const s=function(){return r.length>0&&" "===r[r.length-1]&&(r.pop(),!0)},u=function(n,o){for(const i of o.split(" "))if(i){if(n+i.length>e){for(;s();)n--;r.push(t),n=0}r.push(i),n+=i.length,r.push(" "),n++}return s()&&n--,n};let l=0;for(let n=0;n<a.length;n++)l+a[n].length>e&&a[n].includes("{")?l=u(l,a[n]):(l+a[n].length>e&&0!==n?(" "===r[r.length-1]&&r.pop(),r.push(t),l=0):0!==n&&(r.push(" "),l++),r.push(a[n]),l+=a[n].length);return r.join("")}header(...t){for(let e=0;e<t.length;e+=2)"string"==typeof t[e]&&"string"==typeof t[e+1]&&(this._header[t[e]]=t[e+1]);return this._header}loadPgn(t,{strict:e=!1,newlineChar:r="\r?\n"}={}){function n(t){return t.replace(/\\/g,"\\")}t=t.trim();const o=new RegExp("^(\\[((?:"+n(r)+")|.)*\\])((?:\\s*"+n(r)+"){2}|(?:\\s*"+n(r)+")*$)").exec(t),i=o&&o.length>=2?o[1]:"";this.reset();const a=function(t){const e={},o=t.split(new RegExp(n(r)));let i="",a="";for(let t=0;t<o.length;t++){const r=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;i=o[t].replace(r,"$1"),a=o[t].replace(r,"$2"),i.trim().length>0&&(e[i]=a)}return e}(i);let c="";for(const t in a)"fen"===t.toLowerCase()&&(c=a[t]),this.header(t,a[t]);if(e){if("1"===a.SetUp){if(!("FEN"in a))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(a.FEN,!0)}}else c&&this.load(c,!0);const s=function(t){return`{${function(t){return Array.from(t).map((function(t){return t.charCodeAt(0)<128?t.charCodeAt(0).toString(16):encodeURIComponent(t).replace(/%/g,"").toLowerCase()})).join("")}((t=t.replace(new RegExp(n(r),"g")," ")).slice(1,t.length-1))}}`},u=function(t){if(t.startsWith("{")&&t.endsWith("}"))return function(t){return 0==t.length?"":decodeURIComponent("%"+(t.match(/.{1,2}/g)||[]).join("%"))}(t.slice(1,t.length-1))};let l=t.replace(i,"").replace(new RegExp(`({[^}]*})+?|;([^${n(r)}]*)`,"g"),(function(t,e,r){return void 0!==e?s(e):" "+s(`{${r.slice(1)}}`)})).replace(new RegExp(n(r),"g")," ");const h=/(\([^()]+\))+?/g;for(;h.test(l);)l=l.replace(h,"");l=l.replace(/\d+\.(\.\.)?/g,""),l=l.replace(/\.\.\./g,""),l=l.replace(/\$\d+/g,"");let f=l.trim().split(new RegExp(/\s+/));f=f.filter((t=>""!==t));let d="";for(let t=0;t<f.length;t++){const r=u(f[t]);if(void 0!==r){this._comments[this.fen()]=r;continue}const n=this._moveFromSan(f[t],e);if(null==n){if(!(k.indexOf(f[t])>-1))throw new Error(`Invalid move in PGN: ${f[t]}`);d=f[t]}else d="",this._makeMove(n)}d&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",d)}_moveToSan(t,e){let r="";if(t.flags&d.KSIDE_CASTLE)r="O-O";else if(t.flags&d.QSIDE_CASTLE)r="O-O-O";else{if(t.piece!==i){const n=function(t,e){const r=t.from,n=t.to,o=t.piece;let i=0,a=0,c=0;for(let t=0,s=e.length;t<s;t++){const s=e[t].from,u=e[t].to;o===e[t].piece&&r!==s&&n===u&&(i++,L(r)===L(s)&&a++,x(r)===x(s)&&c++)}return i>0?a>0&&c>0?P(r):c>0?P(r).charAt(1):P(r).charAt(0):""}(t,e);r+=t.piece.toUpperCase()+n}t.flags&(d.CAPTURE|d.EP_CAPTURE)&&(t.piece===i&&(r+=P(t.from)[0]),r+="x"),r+=P(t.to),t.promotion&&(r+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?r+="#":r+="+"),this._undoMove(),r}_moveFromSan(t,e=!1){const r=M(t);let n,o,i,a,c,s=N(r),u=this._moves({legal:!0,piece:s});for(let t=0,e=u.length;t<e;t++)if(r===M(this._moveToSan(u[t],u)))return u[t];if(e)return null;let l=!1;if(o=r.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),o?(n=o[1],i=o[2],a=o[3],c=o[4],1==i.length&&(l=!0)):(o=r.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),o&&(n=o[1],i=o[2],a=o[3],c=o[4],1==i.length&&(l=!0))),s=N(r),u=this._moves({legal:!0,piece:n||s}),!a)return null;for(let t=0,e=u.length;t<e;t++)if(i){if(!(n&&n.toLowerCase()!=u[t].piece||p[i]!=u[t].from||p[a]!=u[t].to||c&&c.toLowerCase()!=u[t].promotion))return u[t];if(l){const e=P(u[t].from);if(!(n&&n.toLowerCase()!=u[t].piece||p[a]!=u[t].to||i!=e[0]&&i!=e[1]||c&&c.toLowerCase()!=u[t].promotion))return u[t]}}else if(r===M(this._moveToSan(u[t],u)).replace("x",""))return u[t];return null}ascii(){let t="   +------------------------+\n";for(let e=p.a8;e<=p.h1;e++){if(0===x(e)&&(t+=" "+"87654321"[L(e)]+" |"),this._board[e]){const r=this._board[e].type;t+=" "+(this._board[e].color===n?r.toUpperCase():r.toLowerCase())+" "}else t+=" . ";e+1&136&&(t+="|\n",e+=8)}return t+="   +------------------------+\n",t+="     a  b  c  d  e  f  g  h",t}perft(t){const e=this._moves({legal:!1});let r=0;const n=this._turn;for(let o=0,i=e.length;o<i;o++)this._makeMove(e[o]),this._isKingAttacked(n)||(t-1>0?r+=this.perft(t-1):r++),this._undoMove();return r}_makePretty(t){const{color:e,piece:r,from:n,to:o,flags:i,captured:a,promotion:c}=t;let s="";for(const t in d)d[t]&i&&(s+=f[t]);const u=P(n),l=P(o),h={color:e,piece:r,from:u,to:l,san:this._moveToSan(t,this._moves({legal:!0})),flags:s,lan:u+l,before:this.fen(),after:""};return this._makeMove(t),h.after=this.fen(),this._undoMove(),a&&(h.captured=a),c&&(h.promotion=c,h.lan+=c),h}turn(){return this._turn}board(){const t=[];let e=[];for(let r=p.a8;r<=p.h1;r++)null==this._board[r]?e.push(null):e.push({square:P(r),type:this._board[r].type,color:this._board[r].color}),r+1&136&&(t.push(e),e=[],r+=8);return t}squareColor(t){if(t in p){const e=p[t];return(L(e)+x(e))%2==0?"light":"dark"}return null}history({verbose:t=!1}={}){const e=[],r=[];for(;this._history.length>0;)e.push(this._undoMove());for(;;){const n=e.pop();if(!n)break;t?r.push(this._makePretty(n)):r.push(this._moveToSan(n,this._moves())),this._makeMove(n)}return r}_pruneComments(){const t=[],e={},r=t=>{t in this._comments&&(e[t]=this._comments[t])};for(;this._history.length>0;)t.push(this._undoMove());for(r(this.fen());;){const e=t.pop();if(!e)break;this._makeMove(e),r(this.fen())}this._comments=e}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map((t=>({fen:t,comment:this._comments[t]})))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map((t=>{const e=this._comments[t];return delete this._comments[t],{fen:t,comment:e}}))}setCastlingRights(t,e){for(const r of[u,s])void 0!==e[r]&&(e[r]?this._castling[t]|=_[r]:this._castling[t]&=~_[r]);this._updateCastlingRights();const r=this.getCastlingRights(t);return!(void 0!==e[u]&&e[u]!==r[u]||void 0!==e[s]&&e[s]!==r[s])}getCastlingRights(t){return{[u]:0!=(this._castling[t]&_[u]),[s]:0!=(this._castling[t]&_[s])}}moveNumber(){return this._moveNumber}}},569:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{P2:()=>u,ZP:()=>l,eA:()=>h});var o=r(74),i=r(982),a=t([o]);o=(a.then?(await a)():a)[0];var c=1,s=.8;function u(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.history.length,i=t.timeline;if(i!==e){var a,c,s=0!==i?t.history[n-i]:t;if(s.showingWhiteSide=t.showingWhiteSide,1!==Math.abs(e-i))return 0===i?void(0,o.o3)(t):i===n?(t.history[0].showingWhiteSide=t.showingWhiteSide,void(0,o.o3)(t.history[0])):(t.history[t.history.length-t.timeline].showingWhiteSide=t.showingWhiteSide,void(0,o.o3)(t.history[t.history.length-t.timeline]));if(i>e&&(a=1===i?t.lastMove[0]:t.history[n-i+1].lastMove[0],c=1===i?t.lastMove[1]:t.history[n-i+1].lastMove[1]),i<e&&(c=s.lastMove[0],a=s.lastMove[1]),t.div.querySelector(".animating")){var u=i<e;t.timeline?(t.history[t.history.length-t.timeline].showingWhiteSide=t.showingWhiteSide,(0,o.o3)(t.history[t.history.length-t.timeline]),u&&r&&(0,o.GN)(t.history[t.history.length-t.timeline])):((0,o.o3)(t),u&&r&&(0,o.GN)(t))}else i<e&&r&&(0,o.GN)(s),h(c,a,s.div.firstChild).then((function(){t.timeline?(t.history[t.history.length-t.timeline].showingWhiteSide=t.showingWhiteSide,(0,o.o3)(t.history[t.history.length-t.timeline])):(0,o.o3)(t)})).catch((function(t){console.log("caught error",t)}))}}function l(t,e,r,n,a){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(t.board[e][r]&&t.board[e][r].move(n,a,u||void 0,l)){0!==t.timeline&&(t.timeline=0,(0,o.o3)(t.history[t.history.length-1]));var f=(0,i.aZ)(e,r),d=(0,i.aZ)(n,a);return c&&(0,o.GN)(t),h(f,d,t.div.firstChild,s).then((function(){(0,o.o3)(t)})).catch((function(){(0,o.o3)(t)})),!0}return!1}function h(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c,o=r.querySelector("[notation=".concat(t,"]")),i=r.querySelector("[notation=".concat(e,"]")),a=o.offsetWidth/2,s=o.getBoundingClientRect().left+a,u=o.getBoundingClientRect().top+a,l=i.getBoundingClientRect().left+a,h=i.getBoundingClientRect().top+a,f=Math.sqrt(Math.pow((s-l)/a,2)+Math.pow((u-h)/a,2))*(1/n)*250;f=f<=100/n?f:100/n;var d,p=o.lastChild;return p?(r.querySelectorAll(".highlighted").forEach((function(t){t.classList.remove("highlighted")})),r.querySelector("[notation=".concat(t)).classList.add("highlighted"),r.querySelector("[notation=".concat(e)).classList.add("highlighted"),p.animate([{transform:"translate(0px, 0px)"},{transform:"translate(".concat(l-s,"px, ").concat(h-u,"px)")}],{duration:f,iterations:1}),p.classList.add("animating")):d=new Error("Nothing to animate from ".concat(t)),new Promise((function(t,e){d&&e(d),setTimeout((function(){t()}),f-10)}))}n()}catch(f){n(f)}}))},74:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{$n:()=>S,GN:()=>k,dm:()=>C,dz:()=>P,hR:()=>x,o3:()=>L,wn:()=>A});var o=r(813),i=r(982),a=r(111),c=r(398),s=r(569),u=r(643),l=r(512),h=r(315),f=r(173),d=r(6),p=t([o,a,s,f,d]);function m(t){return w(t)||b(t)||g(t)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(t,e){if(t){if("string"==typeof t)return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0}}function b(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function w(t){if(Array.isArray(t))return _(t)}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}[o,a,s,f,d]=p.then?(await p)():p;var v={place:u,capture:l,check:h};function E(t){var e=document.createElement("span"),r=document.createElement("span");e.classList.add("whiteUser"),r.classList.add("blackUser");var n={board:m(Array(8)).map((function(t){return Array(8).fill(null)})),div:null,whitesMove:!0,whiteState:{shortCastle:!1,longCastle:!1},blackState:{shortCastle:!1,longCastle:!1},history:[],timeline:0,lastMove:null,lastMoveSound:null,drawnArrows:[],userHighlights:[],playerIsWhite:!0,showingWhiteSide:!0,fiftyMoveRule:0,export:[t],whiteUserSpan:e,blackUserSpan:r},a={p:"pawn",q:"queen",b:"bishop",n:"knight",r:"rook",k:"king"};if(m((t=t.split(" "))[0].split("/")).reverse().forEach((function(t,e){(t=t.replace(/\d+/g,(function(t){return"#".repeat(Number(t))}))).split("").reverse().forEach((function(t,r){var i=t===t.toUpperCase();"#"!==t&&(0,o.ZP)(a[t.toLowerCase()],i,e,r,n)}))})),n.whitesMove="w"===t[1],t[2].split("").forEach((function(t){"k"===t&&(n.blackState.shortCastle=!0),"q"===t&&(n.blackState.longCastle=!0),"K"===t&&(n.whiteState.shortCastle=!0),"Q"===t&&(n.whiteState.longCastle=!0)})),"-"!==t[3]){var c=(0,i.Wt)(t[3]);(0,o.ZP)("passant",!n.whitesMove,c[0],c[1],n)}return n.fiftyMoveRule=Number(t[4]),n}function S(t){var e,r={pawn:"p",queen:"q",bishop:"b",knight:"n",rook:"r",king:"k"},n=0,o="";return m(t.board).reverse().forEach((function(t,i){m(t).reverse().forEach((function(t,a){if(null===t&&(n+=1),t&&"passant"===t.name&&(n+=1,e=[7-i,7-a]),t&&"passant"!==t.name){var c=r[t.name];o+=n||"",o+=t.isWhite?c.toUpperCase():c,n=0}})),o+=n||"",n=0,o+="/"})),o=o.substring(0,o.length-1)+" ",o+=t.whitesMove?"w ":"b ",t.whiteState.shortCastle&&(o+="K"),t.whiteState.longCastle&&(o+="Q"),t.blackState.shortCastle&&(o+="k"),t.blackState.longCastle&&(o+="q"),t.whiteState.shortCastle||t.whiteState.longCastle||t.blackState.shortCastle||t.blackState.longCastle||(o+="-"),o+=" ",o+=e?(0,i.aZ)(e[0],e[1]):"-",o+=" ".concat(t.fiftyMoveRule," ").concat(Math.floor((t.export.length-1)/2)+1)}function k(t){t.lastMoveSound&&new Audio(v[t.lastMoveSound]).play()}function L(t){var e=t.showingWhiteSide,r=t.div.firstChild,n=t.timeline;r.innerHTML="",r.parentNode.querySelector("#svg-canvas")&&r.parentNode.querySelector("#svg-canvas").remove();var s=e?m(t.board).reverse():t.board,u=e?-1:1,l=null!==t.lastMove,h=!0,f=e?7:0,p=(0,c.kk)(r);s.forEach((function(o){var s=e?7:0;(e?m(o).reverse():o).forEach((function(e){var o=document.createElement("div"),l=(0,i.aZ)(f,s);o.setAttribute("notation",l),o.classList.add("square"),(0,c.G5)(o,t,p),(h=!h)&&o.classList.add("dark");var d=!!e&&e.svg;if(d){var v=document.createElement("img");v.src=d,0!==n||t.result||null!==t.playerIsWhite&&e.isWhite===t.playerIsWhite&&t.playerIsWhite===t.whitesMove&&(0,a.Z)(e,v,L),o.appendChild(v)}r.appendChild(o),s+=u})),h=!h,f+=u}));var v=(0,o.nL)(t);return v&&r.querySelector("[notation=".concat(v,"]")).classList.add("check"),l&&(r.querySelector("[notation=".concat(t.lastMove[0])).classList.add("highlighted"),r.querySelector("[notation=".concat(t.lastMove[1])).classList.add("highlighted")),t.result&&(0,d.es)(t.result),(0,c.BK)(t,p),(0,c.En)(r,e),(0,c.hN)(r),r}function x(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=(0,i.Wt)(e.substring(0,2).toLowerCase()),u=(0,i.Wt)(e.substring(2,4).toLowerCase()),l=e.substring(4,5),h=!!l&&{q:"queen",r:"rook",n:"knight",b:"bishop"}[l.toLowerCase()];if(a)return t.board[c[0]][c[1]].move(u[0],u[1],h,!1,!0),t;if((0,s.ZP)(t,c[0],c[1],u[0],u[1],r,h)){if(t.export.push(e),!n){var f=(0,o.e2)(t);f&&(t.result={result:f.result,reason:f.reason})}var p=document.querySelector("ol");return p&&(0,d.l9)(t,p),t}throw new Error("Could not complete move.")}function C(t,e,r){var n=t.lastMove.join("").concat(e?e[0]:"");if(r){if(3===r.readyState)return(0,f.jG)(t,!1),void(0,d.es)("Not connected to the game. Try refreshing?");r.send(JSON.stringify({uci:n,id:t.id,token:localStorage.getItem("token")})),t.timer&&t.timer.alternate();var i=document.querySelector("ol");i&&(0,d.l9)(t,i)}var a=(0,o.e2)(t);return a&&(t.result={result:a.result,reason:a.reason}),t.export.push(n),n}function P(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.createElement("div"),n=document.createElement("div");r.id="board-container",n.id="board",r.appendChild(n),r.oncontextmenu=function(){return!1},t||(t="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1");var o=E(t);return o.div=r,e&&L(o),o}function A(t){var e=P(t[0],!0);return t.length>1&&t.slice(1).forEach((function(t){t.forEach((function(t){""!==t&&x(e,t,!1,!0,!0)}))})),e.result=(0,o.e2)(e),L(e),e}n()}catch(O){n(O)}}))},111:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{Z:()=>s});var o=r(982),i=r(569),a=r(74),c=t([i,a]);function s(t,e,r){e.addEventListener("mousedown",(function(n){if(!e.parentNode.classList.contains("possiblepiece")){n.preventDefault();var c=e.parentNode.classList.contains("highlighted"),s=t.game.div.firstChild;1===n.buttons&&(s=r(t.game),e=s.querySelector("[notation=".concat((0,o.aZ)(t.xPos,t.yPos))).lastChild);var f,d=h(t.moves(),s),p=s.querySelectorAll(".square"),v=e.parentNode,m=!1;1===n.buttons&&(e.parentNode.parentNode.parentNode.querySelector("#svg-canvas").innerHTML="",t.game.drawnArrows=[],t.game.userHighlights=[],f=e.parentNode.parentNode.offsetWidth/8,document.addEventListener("mousedown",g),document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),p.forEach((function(t){d.includes(t)?(t.querySelector("img")?t.classList.add("possiblepiece"):t.classList.add("possible"),t.addEventListener("click",_)):t.addEventListener("click",y)})),u(n,e,f))}function y(e){e.preventDefault(),document.removeEventListener("mousedown",g),document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",b),document.removeEventListener("click",y),p.forEach((function(t){t.removeEventListener("click",_),t.removeEventListener("click",y)})),r(t.game)}function g(e){e.preventDefault(),1!==e.buttons&&(document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",b),document.removeEventListener("click",y),document.removeEventListener("mousedown",g),r(t.game))}function b(t){s.querySelector("#board .square.select")!==v&&(m=!0),u(t,e,f)}function w(o){o.preventDefault(),document.removeEventListener("mousedown",g),document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",b),e.style.pointerEvents="auto";var i=l(s);0===o.buttons&&t.move(i[0],i[1],!1,!0)&&((0,a.GN)(t.game),r(t.game)),m?y(n):(e.style.position=null,e.style.zIndex="1",c&&y(n))}function _(e){e.preventDefault();var r=(0,o.Wt)(e.target.getAttribute("notation")||e.target.parentNode.getAttribute("notation")),n=[t.xPos,t.yPos];s.querySelectorAll(".possible").forEach((function(t){t.classList.remove("possible")})),s.querySelectorAll(".possiblepiece").forEach((function(t){t.classList.remove("possiblepiece")})),(0,i.ZP)(t.game,n[0],n[1],r[0],r[1],!1,!1,!0),(0,a.GN)(t.game),document.removeEventListener("mousedown",g),document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",b),document.removeEventListener("click",y),p.forEach((function(t){t.removeEventListener("click",_),t.removeEventListener("click",y)}))}}))}function u(t,e,r){var n=t.clientX-r/2,o=t.clientY-r/2;e.style.pointerEvents="none",e.style.zIndex="2",e.style.position="fixed",e.style.width="".concat(r,"px"),e.style.height="".concat(r,"px"),e.style.left="".concat(n,"px"),e.style.top="".concat(o,"px"),e.parentNode.classList.add("highlighted")}function l(t){var e=t.querySelector(".square.select");return!!e&&(0,o.Wt)(e.getAttribute("notation"))}function h(t,e){var r=[];return t.forEach((function(t){var n=(0,o.aZ)(t[0],t[1]),i=e.querySelector("[notation=".concat(n));r.push(i)})),r}[i,a]=c.then?(await c)():c,n()}catch(f){n(f)}}))},398:(t,e,r)=>{function n(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.id="svg-canvas",e.setAttribute("height",t.offsetHeight),e.setAttribute("width",t.offsetWidth),e.setAttribute("viewBox","0 0 ".concat(t.offsetWidth," ").concat(t.offsetHeight)),t.parentNode.appendChild(e),e}function o(t){t.querySelectorAll("#board .square").forEach((function(t){t.addEventListener("mouseover",(function(){t.classList.add("select")})),t.addEventListener("mouseout",(function(){t.classList.remove("select")}))}))}function i(t,e,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=o.viewBox.baseVal.width,c=a/80*(i?.75:1),s=a/32*(i?.75:1),u=a/-21.5*(i?.75:1),l=a/21,h=r-t,f=n-e,d=Math.sqrt(h*h+f*f),p=f/d,v=h/d;h=(r-=i?11*v:v)-(t+=l*v),f=(n-=i?11*p:v)-(e+=l*p),d=Math.sqrt(h*h+f*f);var m=[0,c,u,c,u,s],y=[];y.push(0,0);for(var g=0;g<m.length;g+=2){var b=m[g],w=m[g+1];y.push(b<0?d+b:b,w)}y.push(d,0);for(var _=m.length;_>0;_-=2){var E=m[_-2],S=m[_-1];y.push(E<0?d+E:E,-S)}y.push(0,0);for(var k="",L=0;L<y.length;L+=2){var x=y[L]*v-y[L+1]*p+t,C=y[L]*p+y[L+1]*v+e;k+="".concat(x,",").concat(C," ")}var P=document.createElementNS("http://www.w3.org/2000/svg","polygon");P.setAttribute("points",k),P.setAttribute("fill","orange"),P.setAttribute("opacity","0.65"),o.appendChild(P)}function a(t){t.div.querySelectorAll(".userHighlight").forEach((function(t){t.classList.remove("userHighlight")})),t.userHighlights.forEach((function(e){t.div.querySelector("[notation=".concat(e)).classList.add("userHighlight")}))}function c(t,e){t.drawnArrows.forEach((function(r){var n=t.div.querySelector("[notation=".concat(r[0])),o=t.div.querySelector("[notation=".concat(r[1])),a=n.offsetWidth;i(n.offsetLeft+a/2,n.offsetTop+a/2,o.offsetLeft+a/2,o.offsetTop+a/2,e)}))}function s(t,e){a(t),c(t,e)}function u(t,e,r){var n,o,s,u;t.addEventListener("mousedown",(function(l){var h,f,d=t.getAttribute("notation");if(2==l.buttons){var p=e.div;p.querySelector(".square:not(.possible):not(.possiblepiece)").click(),t=p.querySelector("[notation=".concat(d,"]")),r=p.querySelector("#svg-canvas"),h=t.parentNode,f=t.offsetWidth,r.viewBox.baseVal.width!==h.offsetWidth&&r.setAttribute("viewBox","0 0 ".concat(h.offsetWidth," ").concat(h.offsetWidth)),n=t.offsetLeft+f/2,o=t.offsetTop+f/2,s=n,u=o,document.addEventListener("mousemove",v),document.addEventListener("mouseup",m)}else t.parentNode&&(t.parentNode.querySelectorAll(".square").forEach((function(t){t.classList.remove("userHighlight")})),e.drawnArrows=[],e.userHighlights=[],r.innerHTML="",document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",m));function v(t){r.innerHTML="";var a=h.querySelector(".square.select");a&&(s=a.offsetLeft+f/2||n,u=a.offsetTop+f/2||o,i(n,o,s,u,r,!0)),c(e,r)}function m(n){if(document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",m),t.parentNode&&2===n.button){var o=t,i=t.parentNode.querySelector(".square.select");if(i&&o===i){var s=o.getAttribute("notation"),u=e.userHighlights.indexOf(s);-1===u?e.userHighlights.push(s):e.userHighlights.splice(u,1),a(e)}else if(i){var l=[o.getAttribute("notation"),i.getAttribute("notation")],h=!1;e.drawnArrows.forEach((function(t,e){t.every((function(t,e){return t===l[e]}))&&(h=e)})),h||0===h?e.drawnArrows.splice(h,1):e.drawnArrows.push(l),r.innerHTML="",c(e,r)}}}}))}function l(t,e){for(var r=["a","b","c","d","e","f","g","h"],n=e?"a":"h",o=e?1:8,i=!e,a=1;a<=8;a++){var c=t.querySelector("[notation=".concat(n+a,"]")),s=document.createElement("span");s.classList.add("left-notation"),s.classList.add(i?"dark":"light"),s.innerHTML=a,c.prepend(s),i=!i}for(var u in r){var l=t.querySelector("[notation=".concat(r[u]+o,"]")),h=document.createElement("span");h.classList.add("bottom-notation"),h.classList.add(i?"dark":"light"),h.innerHTML=r[u],l.prepend(h),i=!i}}r.d(e,{BK:()=>s,En:()=>l,G5:()=>u,hN:()=>o,kk:()=>n})},173:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{By:()=>y,Pf:()=>d,VB:()=>v,d7:()=>p,jG:()=>m});var o=r(74),i=r(813),a=r(569),c=t([o,i,a]);function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}function l(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function h(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t){var e=t.timeline,r=t.history.length;t.timeline=r,(0,a.P2)(t,e)}function p(t){var e=t.timeline;t.timeline=0,(0,a.P2)(t,e)}function v(t){t.showingWhiteSide=!t.showingWhiteSide,0!==t.timeline?(t.history[t.history.length-t.timeline].showingWhiteSide=t.showingWhiteSide,(0,o.o3)(t.history[t.history.length-t.timeline])):(0,o.o3)(t);var e,r,n,i=document.querySelector("#whiteInfo"),a=document.querySelector("#blackInfo");i&&a&&(e=i,r=a,n=document.createElement("span"),e.before(n),r.before(e),n.replaceWith(r))}function m(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.history.length<1)return!1;var n=document.querySelector("ol");if(n&&r){var c=n.querySelector("li:last-child > span:last-child");""===c.textContent?n.querySelector("li:last-child").remove():c.textContent=""}var f=t.lastMove;e&&(0,o.o3)(t);var d,p=(0,i.GM)(t.history[t.history.length-1].board);t.board=(d=Array(8),h(d)||l(d)||u(d)||s()).map((function(t){return Array(8).fill(null)})),p.forEach((function(e,r){e.forEach((function(e,n){e&&(0,i.ZP)(p[r][n].name,p[r][n].isWhite,r,n,t)}))}));var v=t.history[t.history.length-1];return["whiteState","blackState","lastMove","fiftyMoveRule","whiteUserSpan","blackUserSpan","lastMoveSound","whitesMove","drawnArrows","userHighlights","showingWhiteSide"].forEach((function(e){t[e]=v[e]})),t.timeline=0,t.history.length>1&&(t.history.pop(),t.export.pop()),f&&e?(0,a.eA)(f[1],f[0],t.div.firstChild).then((function(){(0,o.o3)(t)})):e&&(0,o.o3)(t),t}function y(t,e){t.playerIsWhite=!t.playerIsWhite,e&&(t.playerIsWhite=null),(0,o.o3)(t)}[o,i,a]=c.then?(await c)():c,n()}catch(g){n(g)}}))},982:(t,e,r)=>{function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t,e){return"".concat({0:"h",1:"g",2:"f",3:"e",4:"d",5:"c",6:"b",7:"a"}[e]).concat(t+1)}function i(t){return[Number(t[1].toLowerCase())-1,{h:0,g:1,f:2,e:3,d:4,c:5,b:6,a:7}[t[0]]]}function a(t,e){var r=t.lastMove[0],n=t.lastMove[1],o=i(r),a=i(n),u=e[o[0]][o[1]].name,l=t.board[a[0]][a[1]].name,h=null!==e[a[0]][a[1]]?"x":"",f=function(t,e){if("check"===t.lastMoveSound){if(!t.result)return"+";if("Checkmate"===t.result.reason&&function(t,e){for(var r=0;r<8;r++)for(var n=0;n<8;n++){if(t[r][n]&&!e[r][n])return!1;if(!t[r][n]&&e[r][n])return!1;if(t[r][n]!==e[r][n])return!1}return!0}(t.history[t.history.length-1].board,e))return"#"}return""}(t,e),d=function(t,e,r,n,o){for(var a=e,s=i(r),u=s[0],l=s[1],h=(s=i(n))[0],f=s[1],d=t.board[h][f].isWhite,p=!1,v=!1,m=0;m<8;m++)for(var y=0;y<8;y++){var g=a[m][y];if(g&&g.name===o&&g.isWhite===d&&m!==u&&y!==l&&c(g.standardMoves(),h,f)){if(y===l&&(p=!0),m===u&&(v=!0),v&&p)break;p||v||(p=!0)}}return"".concat(p?r[0]:"").concat(v?r[1]:"")}(t,e,r,n,l),p=function(t,e,r,n,o,i){return s(n,t,e)?s(n,t,e)+i:"pawn"===n?o?"".concat(t[0],"x").concat(e).concat(i):"".concat(e).concat(i):r!==n?o?"".concat(r[0],"x").concat(e).concat(i):e+i:void 0}(r,n,u,l,h,f);if(p)return p;var v="knight"===l?"N":l[0].toUpperCase();return"".concat(v).concat(d).concat(h).concat(n).concat(f)}function c(t,e,r){var o,i=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){s=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(a[0]===e&&a[1]===r)return!0}}catch(t){i.e(t)}finally{i.f()}return!1}function s(t,e,r){if("king"===t&&"e"===e[0]){if("g"===r[0])return"O-O";if("c"===r[0])return"O-O-O"}return!1}r.d(e,{O$:()=>a,Wt:()=>i,aZ:()=>o})},781:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{Z:()=>h});var o=r(813),i=t([o]);function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}function l(t){if(Array.isArray(t))return t}function h(t){var e=t.isWhite,r=t.xPos,n=t.yPos,i=t.game,s=(0,o.Xw)({name:"bishop",isWhite:e,xPos:r,yPos:n,game:i,standardMoves:function(){for(var t,e=[],h=0,f=[[1,1],[1,-1],[-1,1],[-1,-1]];h<f.length;h++)for(var d=(2,l(t=f[h])||u(t,2)||c(t,2)||a()),p=d[0],v=d[1],m=r+p,y=n+v;!(0,o.Nl)(m,y)&&(null===i.board[m][y]||s.canCapture(i.board[m][y])||"passant"===i.board[m][y].name)&&(e.push([m,y]),!s.canCapture(i.board[m][y])||"passant"===i.board[m][y].name);)m+=p,y+=v;return e}});return s}o=(i.then?(await i)():i)[0],n()}catch(f){n(f)}}))},533:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{Z:()=>a});var o=r(813),i=t([o]);function a(t){var e=t.isWhite,r=t.xPos,n=t.yPos,i=t.game,a=(0,o.Xw)({name:"king",isWhite:e,xPos:r,yPos:n,game:i,standardMoves:function(){for(var t=[],s=void 0!==i.whiteState&&c(e,i),u=e?i.whiteState:i.blackState,l=e?0:7,h=-1;h<=1;h++)for(var f=h+r,d=-1;d<=1;d++){var p=d+n;(0,o.Nl)(f,p)||(null===i.board[f][p]||a.canCapture(i.board[f][p]))&&t.push([f,p,function(){u.longCastle=!1,u.shortCastle=!1}])}return s&&(s.short&&null===i.board[l][1]&&null===i.board[l][2]&&t.push([l,1,function(){u.longCastle=!1,u.shortCastle=!1,i.board[l][0]=null,(0,o.ZP)("rook",e,l,2,i)}]),s.long&&null===i.board[l][4]&&null===i.board[l][5]&&null===i.board[l][6]&&t.push([l,5,function(){u.longCastle=!1,u.shortCastle=!1,i.board[l][7]=null,(0,o.ZP)("rook",e,l,4,i)}])),t}});return a.inCheck=function(){for(var t=0;t<8;t++)for(var e=0;e<8;e++)if(i.board[t][e]&&i.board[t][e].standardMoves().some((function(t){return t[0]===r&&t[1]===n})))return!0;return!1},a}function c(t,e){var r=t?e.whiteState:e.blackState,n=t?0:7;if(void 0===r||!r.shortCastle&&!r.longCastle)return!1;for(var i=[],a=(0,o.GM)(e.board),c=0;c<8;c++)for(var s=0;s<8;s++)if(e.board[c][s]&&(e.board[c][s].isWhite===!t&&a[c][s].standardMoves().map((function(t){return i.push(t)})),"king"===e.board[c][s].name&&e.board[c][s].isWhite===t&&a[c][s].inCheck()))return!1;var u=!1,l=!1;return r.shortCastle&&(i.some((function(t){return t[0]===n&&2===t[1]}))||i.some((function(t){return t[0]===n&&1===t[1]}))||(u=!0),e.board[n][0].isWhite===t&&"rook"===e.board[n][0].name||(r.shortCastle=!1,u=!1)),r.longCastle&&(i.some((function(t){return t[0]===n&&4===t[1]}))||i.some((function(t){return t[0]===n&&5===t[1]}))||(l=!0),e.board[n][7].isWhite===t&&"rook"===e.board[n][7].name||(r.longCastle=!1,l=!1)),{short:u,long:l}}o=(i.then?(await i)():i)[0],n()}catch(s){n(s)}}))},874:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{Z:()=>a});var o=r(813),i=t([o]);function a(t){var e=t.isWhite,r=t.xPos,n=t.yPos,i=t.game,a=(0,o.Xw)({name:"knight",isWhite:e,xPos:r,yPos:n,game:i,standardMoves:function(){var t=[];return[[2,1],[1,2],[-2,1],[-1,2],[2,-1],[1,-2],[-2,-1],[-1,-2]].forEach((function(e){var c=r+e[0],s=n+e[1];(0,o.Nl)(c,s)||null!==i.board[c][s]&&!a.canCapture(i.board[c][s])||t.push([c,s])})),t}});return a}o=(i.then?(await i)():i)[0],n()}catch(c){n(c)}}))},935:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{Z:()=>g});var o=r(784),i=r(720),a=r(925),c=r(601),s=r(425),u=r(42),l=r(491),h=r(738),f=r(813),d=t([f]);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function v(){v=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),c=new C(o||[]);return n(a,"_invoke",{value:S(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function m(){}var y={};s(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,i)&&(y=b);var w=m.prototype=f.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==p(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:d,configurable:!0}),d.displayName=s(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(E.prototype),s(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),s(w,c,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function m(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){m(i,n,o,a,c,"next",t)}function c(t){m(i,n,o,a,c,"throw",t)}a(void 0)}))}}function g(t){var e=t.isWhite,r=t.xPos,n=t.yPos,o=t.game,i=(0,f.Xw)({name:"pawn",isWhite:e,xPos:r,yPos:n,game:o,standardMoves:function(){for(var t=e?1:-1,a=e?1===r:6===r,c=[],s=function(){var s=r+t,l=n+u;if((0,f.Nl)(s,l))return"continue";if(0!==u&&i.canCapture(o.board[s][l])){if("passant"===o.board[s][l].name)return c.push([s,l,function(){o.board[s-t][l]=null}]),"continue";if(0===s||7===s)return c.push([s,l,y(v().mark((function t(){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(o,e);case 2:return r=t.sent,t.abrupt("return",new Promise((function(t){t(r)})));case 4:case"end":return t.stop()}}),t)})))]),"continue";c.push([s,l])}else if(0===u&&null==o.board[r+t][l]){if(a&&null==o.board[r+2*t][l]&&c.push([r+2*t,l,function(){(0,f.ZP)("passant",e,r+t,l,o)}]),0===s||7===s)return c.push([s,l,y(v().mark((function t(){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(o,e);case 2:return r=t.sent,t.abrupt("return",new Promise((function(t){t(r)})));case 4:case"end":return t.stop()}}),t)})))]),"continue";c.push([s,l])}},u=-1;u<=1;u++)s();return c}});return i}function b(t,e){return w.apply(this,arguments)}function w(){return(w=y(v().mark((function t(e,r){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=e.div,f=document.createElement("div"),d=[[r?i:o,"queen"],[r?h:l,"knight"],[r?u:s,"bishop"],[r?c:a,"rook"]];f.classList.add("promotion"),d.forEach((function(e){var r=document.createElement("div"),o=document.createElement("img");o.src=e[0],r.appendChild(o),r.setAttribute("value",e[1]),r.addEventListener("click",(function(){var e=r.getAttribute("value");t(e),n.removeChild(f)})),f.appendChild(r)})),n.appendChild(f)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}f=(d.then?(await d)():d)[0],n()}catch(_){n(_)}}))},813:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{GM:()=>B,Nl:()=>Z,Xw:()=>D,ZP:()=>J,e2:()=>Q,nL:()=>$});var o=r(600),i=r(74),a=r(173),c=r(982),s=r(533),u=r(695),l=r(354),h=r(874),f=r(781),d=r(935),p=r(312),v=r(539),m=r(784),y=r(720),g=r(925),b=r(601),w=r(425),_=r(42),E=r(491),S=r(738),k=r(692),L=r(965),x=t([i,a,s,u,l,h,f,d]);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return(e=T(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T(t){var e=q(t,"string");return"symbol"===A(e)?e:String(e)}function q(t,e){if("object"!==A(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function j(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(t,e){if(t){if("string"==typeof t)return R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(t,e):void 0}}function W(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function G(t){if(Array.isArray(t))return R(t)}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F(){F=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),c=new L(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var v={};s(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(x([])));y&&y!==e&&r.call(y,i)&&(v=y);var g=p.prototype=f.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==A(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function U(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}[i,a,s,u,l,h,f,d]=x.then?(await x)():x;var C={pawn:k,king:p,queen:m,bishop:w,knight:E,rook:g},P={pawn:L,king:v,queen:y,bishop:_,knight:S,rook:b};function D(t){var e=t.name,r=t.isWhite,n=t.xPos,o=t.yPos,s=t.standardMoves,u=t.game;return{name:e,isWhite:r,xPos:n,yPos:o,standardMoves:s,game:u,svg:r?P[e]||!1:C[e]||!1,canCapture:function(t){return!!t&&r!==t.isWhite},move:function(t,l,h){var f,d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],p=arguments.length>4&&void 0!==arguments[4]&&arguments[4],v=p?s():s().filter((function(t){return H(n,o,t[0],t[1],r,u.board)}));if(p||u.whitesMove===r&&v.some((function(e){return e[0]===t&&e[1]===l}))){var m=v.findIndex((function(e){return e[0]===t&&e[1]===l}));u.history.push(K(u)),u.lastMove=[(0,c.aZ)(n,o),(0,c.aZ)(t,l)],u.lastMoveSound=null===u.board[t][l]?"place":"capture",u.board[t][l]&&"pawn"!==e&&"passant"===u.board[t][l].name&&(u.lastMoveSound="place"),"pawn"===e||"capture"===u.lastMoveSound?u.fiftyMoveRule=0:u.fiftyMoveRule+=1;for(var y=0;y<8;y++){if(u.board[2][y]&&"passant"===u.board[2][y].name){u.board[2][y]=null;break}if(u.board[5][y]&&"passant"===u.board[5][y].name){u.board[5][y]=null;break}}if(h&&(e=h),J(e,r,t,l,u),u.board[n][o]=null,u.whitesMove=!u.whitesMove,v[m].length>2&&!h){var g=v[m][2]();if(g&&"Promise"===g[Symbol.toStringTag])return(f=F().mark((function e(){var r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g;case 2:return r=e.sent,(0,a.jG)(u,!1),u.board[n][o].move(t,l,r,!0),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,e=arguments;return new Promise((function(r,n){var o=f.apply(t,e);function i(t){U(o,r,n,i,a,"next",t)}function a(t){U(o,r,n,i,a,"throw",t)}i(void 0)}))})()}return $(u)&&(u.lastMoveSound="check"),h&&(0,i.o3)(u),d&&u.socket&&(0,i.dm)(u,h,u.socket),!0}return!1},moves:function(){return u.fiftyMoveRule>100||u.whitesMove!==r?[]:s().filter((function(t){return H(n,o,t[0],t[1],r,u.board)}))}}}function Z(t,e){return t<0||e<0||t>=8||e>=8}function H(t,e,r,n,o,i){var a,c=B(i),s=c[t][e];J(s.name,s.isWhite,r,n,{board:c}),c[t][e]=null;for(var u=[],l=0;l<8;l++)for(var h=0;h<8;h++)if(c[l][h]){var f=c[l][h].isWhite;"king"==c[l][h].name&&f==o&&(a=[l,h]),f!==o&&c[l][h].standardMoves().map((function(t){return u.push(t)}))}return!a||!u.some((function(t){return t[0]===a[0]&&t[1]===a[1]}))}function B(t){for(var e,r=(e=Array(8),G(e)||W(e)||I(e)||j()).map((function(t){return Array(8).fill(null)})),n=0;n<8;n++)for(var o=0;o<8;o++)t[n][o]&&J(t[n][o].name,t[n][o].isWhite,n,o,{board:r});return r}function K(t){return{board:B(t.board),div:t.div,whitesMove:t.whitesMove,showingWhiteSide:t.showingWhiteSide,lastMove:t.lastMove,lastMoveSound:t.lastMoveSound,drawnArrows:[],userHighlights:[],fiftyMoveRule:t.fiftyMoveRule,whiteState:{shortCastle:t.whiteState.shortCastle,longCastle:t.whiteState.longCastle},blackState:{shortCastle:t.blackState.shortCastle,longCastle:t.blackState.longCastle}}}function $(t){var e=!1;return t.board.forEach((function(r,n){r.forEach((function(r,o){t.board[n][o]&&"king"===t.board[n][o].name&&t.board[n][o].inCheck()&&(e=(0,c.aZ)(n,o))}))})),e}function Q(t){if(t.fiftyMoveRule>100)return{result:"Stalemate",reason:"Fifty move rule"};try{var e=new o.qQ((0,i.$n)(t));if(e.isCheckmate())return{result:t.whitesMove?"Black":"White",reason:"Checkmate"};if(e.isStalemate())return{result:"Stalemate",reason:"No more moves"};if(e.isInsufficientMaterial())return{result:"Stalemate",reason:"Insufficient material"}}catch(e){console.log((0,i.$n)(t)),console.log(e);var r=Y(t);if(r)return r}return!1}function Y(t){for(var e=0;e<8;e++)for(var r=0;r<8;r++)if(t.board[e][r]&&t.board[e][r].isWhite===t.whitesMove&&t.board[e][r].moves().length>0)return!1;return $(t)?{result:t.whitesMove?"Black":"White",reason:"Checkmate"}:{result:"Stalemate",reason:"No more moves"}}function J(t,e,r,n,o){var i,a={},c={isWhite:e,xPos:r,yPos:n,game:o};switch(t){case"pawn":a=(0,d.Z)(c);break;case"king":a=(0,s.Z)(c);break;case"knight":a=(0,h.Z)(c);break;case"rook":a=(0,l.Z)(c);break;case"bishop":a=(0,f.Z)(c);break;case"queen":a=(0,u.Z)(c);break;default:a={standardMoves:function(){return[]}}}var p=D((M(i={name:t,isWhite:e,xPos:r,yPos:n},"yPos",n),M(i,"standardMoves",a.standardMoves),M(i,"game",o),i));return o.board[r][n]=N(N({},p),a),o.board[r][n]}n()}catch(X){n(X)}}))},695:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{Z:()=>s});var o=r(354),i=r(781),a=r(813),c=t([o,i,a]);function s(t){var e=t.isWhite,r=t.xPos,n=t.yPos,c=t.game;return(0,a.Xw)({name:"queen",isWhite:e,xPos:r,yPos:n,game:c,standardMoves:function(){var t=(0,i.Z)({isWhite:e,xPos:r,yPos:n,game:c}),a=(0,o.Z)({isWhite:e,xPos:r,yPos:n,game:c});return t.standardMoves().concat(a.standardMoves())}})}[o,i,a]=c.then?(await c)():c,n()}catch(u){n(u)}}))},354:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{Z:()=>h});var o=r(813),i=t([o]);function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}function l(t){if(Array.isArray(t))return t}function h(t){var e=t.isWhite,r=t.xPos,n=t.yPos,i=t.game,s=(0,o.Xw)({name:"rook",isWhite:e,xPos:r,yPos:n,game:i,standardMoves:function(){for(var t,e=[],h=0,f=[[1,0],[-1,0],[0,1],[0,-1]];h<f.length;h++)for(var d=(2,l(t=f[h])||u(t,2)||c(t,2)||a()),p=d[0],v=d[1],m=r+p,y=n+v;!(0,o.Nl)(m,y)&&(null===i.board[m][y]||s.canCapture(i.board[m][y])||"passant"===i.board[m][y].name)&&(e.push([m,y,function(){0===r&&0===n&&(i.whiteState.shortCastle=!1),0===r&&7===n&&(i.whiteState.longCastle=!1),7===r&&0===n&&(i.blackState.shortCastle=!1),7===r&&7===n&&(i.blackState.longCastle=!1)}]),!s.canCapture(i.board[m][y])||"passant"===i.board[m][y].name);)m+=p,y+=v;return e}});return s}o=(i.then?(await i)():i)[0],n()}catch(f){n(f)}}))},65:(t,e,r)=>{function n(t,e,r,n,i){var a={timerStarted:(new Date).getTime(),timeLeft:1e3*t,length:1e3*t,increment:1e3*e,isRunning:!1,updateFunction:r,timerFinishedFunction:n,linkedTimer:i,start:function(){a.isRunning||(a.timerStarted=(new Date).getTime(),a.length=a.timeLeft,a.isRunning=!0,o(a),setInterval((function t(){o(a,t)}),100))},alternate:function(){a.linkedTimer&&a.linkedTimer.start&&a.linkedTimer.pause&&(a.linkedTimer.isRunning?(a.linkedTimer.pause(),a.start()):(a.linkedTimer.start(),a.pause()))},pause:function(){a.isRunning&&(a.length+=a.increment,o(a),a.isRunning=!1,r&&r(a.timeLeft))}};return a}function o(t,e){if(t.isRunning){var r=(new Date).getTime();t.timeLeft=t.length-(r-t.timerStarted),t.updateFunction&&t.updateFunction(t.timeLeft),t.timeLeft<=0&&(t.timerFinishedFunction&&t.timerFinishedFunction(),t.updateFunction&&t.updateFunction(0),t.timeLeft=0,t.isRunning=!1)}else clearInterval(e)}r.d(e,{Z:()=>n})},6:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{JW:()=>O,es:()=>G,iX:()=>R,l9:()=>j}),r(30);var o=r(74),i=r(511),a=r(173),c=r(982),s=r(569),u=t([o,i,a,s]);function b(t){return S(t)||E(t)||_(t)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t,e){if(t){if("string"==typeof t)return k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(t,e):void 0}}function E(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function S(t){if(Array.isArray(t))return k(t)}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}if([o,i,a,s]=u.then?(await u)():u,document.body.dataset.id){var l=document.querySelector("#game"),h=new URLSearchParams(window.location.search).get("black");window.history.replaceState({},document.title,"/game/"+document.body.dataset.id);var f,d=await fetch("/api/game/".concat(document.body.dataset.id)),p=await d.json();if(p.live)f=await(0,i.Np)(document.body.dataset.id,l,N),(0,i.w$)(f,h).then((function(t){G(t),R(f)})).catch((function(t){G(t),R(f)}));else{f=(0,o.wn)([p.game.fen,b(p.game.uci.split(" "))]);var v=document.querySelector("#user-dropdown > span"),m=!!v&&v.textContent;f.id=p.id,f.whiteUserSpan.textContent=p.game.whitePlayer,f.blackUserSpan.textContent=p.game.blackPlayer,f.result={result:p.game.winner,reason:p.game.reason.toLowerCase()},f.timeSpent=p.game.timed_uci.split(" "),f.timeControl=p.game.time_control,"white"===p.game.winner.toLowerCase()&&(f.result.result=p.game.whitePlayer),"black"===p.game.winner.toLowerCase()&&(f.result.result=p.game.blackPlayer),p.game.blackPlayer===m&&(0,a.VB)(f),l.innerHTML="",l.appendChild(f.div),R(f)}L(f);var y=document.querySelector("#whiteInfo"),g=document.querySelector("#blackInfo");y.prepend(f.whiteUserSpan),g.prepend(f.blackUserSpan),T(f,document.querySelector("ol")),p.live||C(f)}function L(t){document.addEventListener("keydown",(function(e){"ArrowLeft"===e.code&&P(t),"ArrowRight"===e.code&&A(t),"ArrowUp"===e.code&&(e.preventDefault(),C(t)),"ArrowDown"===e.code&&(e.preventDefault(),x(t)),"KeyF"===e.code&&(0,a.VB)(t)})),document.querySelector("#end").addEventListener("click",(function(){return x(t)})),document.querySelector("#start").addEventListener("click",(function(){return C(t)})),document.querySelector("#back").addEventListener("click",(function(){return P(t)})),document.querySelector("#forward").addEventListener("click",(function(){return A(t)})),document.querySelector("#flip").addEventListener("click",(function(){return(0,a.VB)(t)}));var e=document.querySelector("#game");e&&e.addEventListener("wheel",(function(e){e.preventDefault(),e.deltaY>0?A(t):P(t)}))}function x(t){(0,a.d7)(t);var e=document.querySelectorAll("ol > li > span");e.forEach((function(t){t.classList.remove("active")})),""!==e[e.length-1].innerHTML?e[e.length-1].classList.add("active"):e[e.length-2].classList.add("active");var r=window.scrollY;document.querySelector("ol").scrollTo({top:document.querySelector("ol").scrollHeight,behavior:"smooth"}),window.scrollTo(0,r),W(t,t.history.length)}function C(t){(0,a.Pf)(t),document.querySelectorAll("ol > li > span").forEach((function(t){t.classList.remove("active")}));var e=window.scrollY;document.querySelector("ol").scrollTo({top:0,behavior:"smooth"}),window.scrollTo(0,e),W(t,0)}function P(t){I(t,t.history.length-t.timeline-1-1)}function A(t){I(t,t.history.length-t.timeline-1+1)}function O(t,e,r){var n=e?t.whiteClock:t.blackClock;return M(n.timeLeft,r),n.updateFunction=function(t){return M(t,r)},n}function N(t){O(t,!0,document.querySelector("#whiteTimer")),O(t,!1,document.querySelector("#blackTimer"))}function M(t,e){var r=Math.floor(t/6e4),n=Math.floor((t-6e4*r)/1e3),o=Math.floor((t-6e4*r-1e3*n)/100),i=n<10?"0":"";e.innerText="".concat(r,":").concat(i).concat(n,".").concat(o)}function T(t,e){e.innerHTML="";var r=t.history.slice(1);r.push(t),r.forEach((function(r,n){var o=t.history[n].board,i=(0,c.O$)(r,o);q(t,e,i,n)}));var n=window.scrollY;e.scrollTo({top:e.scrollHeight}),window.scrollTo(0,n)}function q(t,e,r,n){var o=e.querySelectorAll("li");if((o=0!==o.length?o[o.length-1]:null)&&""===o.querySelector("span:last-child").innerText){var i=o.querySelector("span:last-child");i.addEventListener("click",(function(){return I(t,n)})),i.setAttribute("history-index",n),i.innerText=r}else{o=document.createElement("li");var a=document.createElement("span");a.addEventListener("click",(function(){return I(t,n)}));var c=document.createElement("span");c.addEventListener("click",(function(){return I(t,n)})),c.setAttribute("history-index",n);var s=Math.floor(n/2)+1;a.innerText="".concat(s,"."),c.innerText=r;var u=document.createElement("span");o.appendChild(a),o.appendChild(c),o.appendChild(u),e.appendChild(o)}I(t,n,!1)}function j(t,e){var r=t.history[t.history.length-1].board;q(t,e,(0,c.O$)(t,r),t.history.length-1)}function I(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.timeline;t.timeline=t.history.length-(e+1),t.timeline<=0&&(t.timeline=0,e=t.history.length-1),t.timeline>=t.history.length&&(t.timeline=t.history.length,e-=1),(0,s.P2)(t,n,r),document.querySelectorAll("ol > li > span").forEach((function(t){t.classList.remove("active")}));var o,i,a=document.querySelector('[history-index="'.concat(e,'"]')),c=window.scrollY;a&&(a.classList.add("active"),o=document.querySelector("ol"),i=a.parentElement.offsetTop,o.scrollTo({top:i-o.offsetTop,behavior:"smooth"})),window.scrollTo(0,c),W(t,e+1)}function W(t,e){if(t.timeSpent){for(var r=t.history[0].whitesMove,n=1e3*t.timeControl.split("+")[0],o=1e3*t.timeControl.split("+")[1],i=document.querySelector("#whiteTimer"),a=document.querySelector("#blackTimer"),c=n,s=n,u=0;u<e;u++)r&&u%2==0?(c-=t.timeSpent[u],c+=o):(s-=t.timeSpent[u],s+=o);M(c,i),M(s,a)}}function G(t){var e=document.querySelector("#toast");e&&(t.result?"Stalemate"===t.result||"draw"===t.result.toLowerCase()?e.innerHTML="Game ended in a draw due to ".concat(t.reason.toLowerCase(),"."):e.innerHTML="".concat(t.result," has won due to ").concat(t.reason.toLowerCase()):e.innerHTML=t)}function R(t){var e=document.querySelector("#user-dropdown > span").textContent,r=t.whiteUserSpan.textContent,n=t.blackUserSpan.textContent;document.title=e!==r&&e!==n?"".concat(n," vs. ").concat(r," - NK Chess"):"".concat(e===r?n:r," vs. ").concat(e," - NK Chess")}n()}catch(F){n(F)}}),1)},511:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{Np:()=>y,ZP:()=>b,w$:()=>S});var o=r(74),i=r(173),a=r(6),c=r(65),s=t([o,i,a]);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(){l=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function h(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new C(o||[]);return n(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var d={};function p(){}function v(){}function m(){}var y={};s(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,i)&&(y=b);var w=m.prototype=p.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function o(n,i,a,c){var s=f(t[n],t,i);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==u(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=f(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:v,configurable:!0}),v.displayName=s(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(E.prototype),s(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(h(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),s(w,c,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function h(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){h(i,n,o,a,c,"next",t)}function c(t){h(i,n,o,a,c,"throw",t)}a(void 0)}))}}function d(t,e){return p.apply(this,arguments)}function p(){return p=f(l().mark((function t(e,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=f(l().mark((function t(n,i){var a,c,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(0,o.dz)(e),t.next=3,k();case 3:c=t.sent;try{(s=new WebSocket("ws://localhost:8080")).onopen=function(){s.send(JSON.stringify({fen:e||"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",timeControl:r||{seconds:300,increment:1},token:c}))},s.onmessage=function(t){var e=JSON.parse(t.data).invalid;if(e)return i(e),void s.close();a.id=t.data,n(a.id)}}catch(t){i(t)}case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function v(t,e){return m.apply(this,arguments)}function m(){return(m=f(l().mark((function t(e,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var s=new WebSocket("ws://localhost:8080");s.onopen=function(){s.send(JSON.stringify({id:e}))},s.addEventListener("message",(function e(n){var u=JSON.parse(n.data);if(u.exportedGame){var l,h,f=(0,o.wn)(u.exportedGame);f.id=u.id,f.socket=s,f&&f.div&&(s.addEventListener("message",(function(t){var e=JSON.parse(t.data);if(e.uci){var n=f.lastMove?f.lastMove[0]+f.lastMove[1]:"";if(e.invalid&&e.uci.slice(0,4)===n)return(0,a.es)("Server rejected move. Try refreshing?"),void(0,i.jG)(f);e.uci.slice(0,4)===n||e.invalid||((0,o.hR)(f,e.uci,!0),f.timer&&f.timer.alternate())}e.result&&(f.result={result:e.result,reason:e.reason},l&&h&&(l.pause(),h.pause()),(0,a.es)(f.result),(0,i.By)(f,!0)),e.whiteUser&&(f.whiteUserSpan.textContent=e.whiteUser,(0,a.iX)(f)),e.blackUser&&(f.blackUserSpan.textContent=e.blackUser,(0,a.iX)(f)),e.whiteClock&&e.blackClock&&(l=(0,c.Z)(e.whiteClock,e.increment),h=(0,c.Z)(e.blackClock,e.increment),f.whiteClock=l,f.blackClock=h,r&&r(f),e.activeClock&&("white"===e.activeClock?l.start():h.start())),e.startClock&&("white"===e.startClock?l.start():h.start()),e.stopClock&&("white"===e.stopClock?l.pause():h.pause()),e.update&&(e.update.whiteClock&&l&&(l.length=e.update.whiteClock.length,l.timerStarted=e.update.whiteClock.timerStarted),e.update.blackClockUpdate&&h&&(h.length=e.update.blackClockUpdate.length,h.timerStarted=e.update.blackClockUpdate.timerStarted))})),s.removeEventListener("message",e),t(f))}})),s.onerror=function(t){n(t)}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e,r){return g.apply(this,arguments)}function g(){return(g=f(l().mark((function t(e,r,n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,o){v("".concat(e),n).then((function(e){r&&(r.innerHTML="",r.appendChild(e.div)),t(e)})).catch((function(t){o(t)}))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e){return w.apply(this,arguments)}function w(){return(w=f(l().mark((function t(e,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){d(e,r).then((function(e){v(e).then((function(e){t(e)})).catch((function(t){n(t)}))})).catch((function(t){n(t)}))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e){return E.apply(this,arguments)}function E(){return(E=f(l().mark((function t(e,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.socket.send(JSON.stringify({token:localStorage.getItem("token"),id:e.id,joinAsBlack:r})),e.socket.addEventListener("message",(function r(o){setTimeout((function(){n("Could not join game"),e.socket.removeEventListener("message",r)}),5e3);var i=JSON.parse(o.data);void 0!==i.isWhite&&(t(i.isWhite),e.socket.removeEventListener("message",r))}))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t,e){return new Promise(function(){var r=f(l().mark((function r(n,o){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:k().then((function(){_(t,e).then((function(e){t.playerIsWhite=e;var r="You are "+(null==e?"spectating":"playing as ".concat(e?"white":"black"));!1===e&&(0,i.VB)(t),n(r)})).catch((function(t){o(t)}))})).catch((function(t){o(t)}));case 1:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}())}function k(){return new Promise((function(t,e){var r;localStorage.getItem("token")&&(r=localStorage.getItem("token")),fetch("/token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}).then(function(){var t=f(l().mark((function t(e){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.status,t.next=3,e.json();case 3:return(e=t.sent).statusCode=r,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(e){401!==e.statusCode?(localStorage.setItem("token",e.token),t(e.token)):t("You are spectating. Log in to play.")})).catch((function(t){e(t)}))}))}[o,i,a]=s.then?(await s)():s,n()}catch(L){n(L)}}))},457:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{ZP:()=>y,bi:()=>w});var o=r(74),i=r(173),a=t([o,i]);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new C(o||[]);return n(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var d={};function p(){}function v(){}function m(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,i)&&(y=b);var w=m.prototype=p.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function o(n,i,a,s){var u=f(t[n],t,i);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==c(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=f(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(h(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),l(w,u,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function h(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function f(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){p(i,n,o,a,c,"next",t)}function c(t){p(i,n,o,a,c,"throw",t)}a(void 0)}))}}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return new Promise(function(){var r=v(s().mark((function r(n,a){var c,d,p,v;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c=t?"/api/game/games/".concat(t,"?total=").concat(e):"/api/game/games/?total=".concat(e),r.next=4,fetch(c,{cache:"no-cache"});case 4:return d=r.sent,r.next=7,d.json();case 7:p=r.sent,v=[],p||n(v),p.forEach((function(t){var e,r=(0,o.wn)([t.fen,(e=t.uci.split(" "),f(e)||h(e)||l(e)||u())],!1);(0,i.By)(r,!0),Object.assign(r,t),v.push(r)})),n(v),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),a(r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(t,e){return r.apply(this,arguments)}}())}function y(t,e){return g.apply(this,arguments)}function g(){return g=v(s().mark((function t(e,r){var n,o,a,c,u,l,h,f,d=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.length>2&&void 0!==d[2]?d[2]:100,o=[],t.next=4,m(r,n);case 4:for(a=t.sent,c=a.length<10?10-a.length%10:0,u=document.querySelector("#game-preview"),document.querySelectorAll("#game-history-list > div:not(#game-history-list > div:first-child").forEach((function(t){t.remove()})),a.forEach((function(t,n){var a=document.createElement("a"),c=document.createElement("div");c.appendChild(t.div);var s=document.createElement("div"),h=document.createElement("div"),f=document.createElement("div"),d=document.createElement("i"),p=document.createElement("div"),v=document.createElement("div"),m=document.createElement("div");if(s.classList.add("date"),h.classList.add("time-control"),d.classList.add("material-symbols-outlined"),m.classList.add("players"),p.classList.add("white-player"),v.classList.add("black-player"),c.id="preview-board",s.innerHTML=_(t.game_ended),f.innerHTML="+0"===t.time_control.slice(-2)?t.time_control.slice(0,-2):t.time_control,d.innerHTML="schedule","+0"!==t.time_control.slice(-2)&&(d.innerHTML="more_time",d.style.fontSize="26px"),p.innerHTML='<div class="side">'.concat(E(!0,t),"</div><div>").concat(t.whitePlayer,"</div>"),v.innerHTML='<div class="side">'.concat(E(!1,t),"</div><div>").concat(t.blackPlayer,"</div>"),h.appendChild(d),h.appendChild(f),m.appendChild(p),m.appendChild(v),a.appendChild(h),a.appendChild(m),a.appendChild(k(t)),a.appendChild(s),a.href="".concat(window.location.origin,"/game/").concat(t.id),a.addEventListener("mouseenter",(function(){u.firstElementChild.replaceWith(c),l&&l.classList.remove("active"),(l=a).classList.add("active")})),!r){var y=document.querySelector("#user-dropdown > span");y&&(r=y.textContent)}if(t.whitePlayer===r||t.blackPlayer===r)switch(t.blackPlayer===r&&(0,i.VB)(t),S(t)){case"white":a.classList.add(t.whitePlayer===r?"win":"loss");break;case"black":a.classList.add(t.blackPlayer===r?"win":"loss");break;case"draw":a.classList.add("draw")}0===n&&(l=a).classList.add("active"),void 0===o[Math.trunc(n/10)]&&(o[Math.trunc(n/10)]=[]),o[Math.trunc(n/10)].push(a),0===Math.trunc(n/10)&&e.appendChild(a)})),h=0;h<c;h++)f=document.createElement("div"),e.appendChild(f);e.appendChild(b(o)),a[0]&&void 0!==a[0].div&&u.firstElementChild.replaceWith(a[0].div.parentNode);case 13:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function b(t){for(var e=0,r=t.length?t.length-1:0,n=0;n<10&&0!==r;n++)if(void 0===t[r][n]){var o=document.createElement("div");t[r][n]=o}var i=document.createElement("div");i.classList.add("paginator");var a=document.createElement("button"),c=document.createElement("button"),s=document.createElement("i"),u=document.createElement("i");return s.innerHTML="arrow_back",u.innerHTML="arrow_forward",s.classList.add("material-symbols-outlined"),u.classList.add("material-symbols-outlined"),a.appendChild(s),c.appendChild(u),a.addEventListener("click",(function(){e>0&&(t[e].forEach((function(r,n){void 0!==t[e-1][n]&&null!==t[e-1][n]&&r.parentNode.replaceChild(t[e-1][n],r)})),e--)})),c.addEventListener("click",(function(){e<r&&(t[e].forEach((function(r,n){void 0!==t[e+1][n]&&null!==t[e+1][n]&&r.parentNode.replaceChild(t[e+1][n],r)})),e++)})),i.appendChild(a),i.appendChild(c),i}function w(t,e,r){var n=t.lastElementChild.cloneNode(!0);for(var o in t.children)if(o>0&&o<t.children.length-1){var i=document.createElement("div");t.children[o].replaceWith(i)}t.lastElementChild.remove(),t.appendChild(n),y(t,e,r)}function _(t){var e=new Date,r=new Date(t),n=e-r,o=Math.floor(n/6e4),i=Math.floor(n/36e5),a=Math.floor(n/864e5);if(i<1)return"".concat(o," Minute").concat(1===o?"":"s"," Ago");if(i<24)return"".concat(i," Hour").concat(1===i?"":"s"," Ago");if(a<15)return"".concat(a," Day").concat(1===a?"":"s"," Ago");var c=r.toLocaleString("default",{month:"short"}),s=r.getDate(),u=r.getFullYear();return"".concat(c," ").concat(s,", ").concat(u)}function E(t,e){var r=e.winner?e.winner.toLowerCase():"draw";return"draw"!==r&&"stalemate"!==r&&r===(t?"white":"black")?'<i class="material-symbols-outlined winner">check</i>':""}function S(t){var e=t.winner?t.winner.toLowerCase():"draw";return"draw"!==e&&"stalemate"!==e?"white"===e?"white":"black":"draw"}function k(t){var e,r,n=t.reason?t.reason.toLowerCase().split(" ")[0]:"",o=document.createElement("div"),i=document.createElement("i"),a=document.createElement("div");switch(new ResizeObserver((function(){a.style.display=a.parentNode.clientWidth<100?"none":"block"})).observe(o),o.classList.add("reason"),i.classList.add("material-symbols-outlined"),n){case"checkmate":e="done_all",r="Checkmate";break;case"resign":e="flag",r="Resignation";break;case"time":e="history_toggle_off",r="Flagged";break;case"no":e="horizontal_rule",r="Stalemate";break;case"insufficient":e="pulse-alert",r="No Material";break;case"threefold":e="cycle",r="Threefold Repetition";break;case"fifty":e="tactic",r="Fifty Move Rule";break;case"game":e="question_mark",r="Server Timeout";break;default:e="question_mark",r="Unknown"}return i.innerHTML=e,i.title=r,a.innerHTML=r,o.appendChild(i),o.appendChild(a),o}[o,i]=a.then?(await a)():a,n()}catch(L){n(L)}}))},66:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{Z:()=>h});var o=r(511),i=r(617),a=t([o,i]);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new C(o||[]);return n(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var d={};function p(){}function v(){}function m(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,i)&&(y=b);var w=m.prototype=p.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function o(n,i,a,s){var u=f(t[n],t,i);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==c(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=f(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(h(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),l(w,u,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function u(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function l(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){u(i,n,o,a,c,"next",t)}function c(t){u(i,n,o,a,c,"throw",t)}a(void 0)}))}}function h(t){var e=document.querySelector(".radio-container.length > .tabs"),r=document.querySelector(".radio-container.increment > .tabs"),n=document.querySelector(".radio-container.side > .tabs"),a=t.querySelector("#fenEnabled"),c=t.querySelector("#fen");a.addEventListener("change",(function(){c.disabled=!c.disabled})),t.querySelector("#create-final").addEventListener("click",l(s().mark((function t(){var u,l,h,d,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=f((0,i.Z)(e)),l=f((0,i.Z)(r)),h="Random"===(0,i.Z)(n)?Math.random()>.5:"Black"===(0,i.Z)(n),d={seconds:u,increment:l},t.prev=4,t.next=7,(0,o.ZP)(!!a.checked&&c.value,d);case 7:p=t.sent,window.location.href=window.location.origin+"/game/"+p.id+"".concat(h?"?black=true":""),t.next=17;break;case 11:if(t.prev=11,t.t0=t.catch(4),"Token error"!==t.t0){t.next=16;break}return alert("Could not create game due to token error. This could be because you are not logged in, or your session has expired. Refresh the page or login and try again."),t.abrupt("return");case 16:alert("Could not create game\n\nError Message: ".concat(t.t0));case 17:case"end":return t.stop()}}),t,null,[[4,11]])}))))}function f(t){switch(t.slice(-1)){case"s":return Number(t.slice(0,-1));case"m":return 60*Number(t.slice(0,-1));case"h":return 3600*Number(t.slice(0,-1));default:return Number(t)}}[o,i]=a.then?(await a)():a,n()}catch(d){n(d)}}))},292:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{Z:()=>f});var o=r(511),i=r(173),a=r(6),c=t([o,i,a]);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new C(o||[]);return n(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var d={};function p(){}function v(){}function m(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,i)&&(y=b);var w=m.prototype=p.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function o(n,i,a,c){var u=f(t[n],t,i);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==s(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=f(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(h(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function l(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){l(i,n,o,a,c,"next",t)}function c(t){l(i,n,o,a,c,"throw",t)}a(void 0)}))}}function f(t){return d.apply(this,arguments)}function d(){return d=h(u().mark((function t(e){var r,n,o,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(){var t=h(u().mark((function t(e,r){var n,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/game/live",{cache:"no-cache"});case 3:return n=t.sent,t.next=6,n.json();case 6:if(o=t.sent){t.next=10;break}return e([]),t.abrupt("return");case 10:e(o),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}());case 2:if(0!==(r=t.sent).length){t.next=6;break}return e.replaceWith(v()),t.abrupt("return");case 6:return t.next=8,Promise.all(r.map(function(){var t=h(u().mark((function t(e){var r,n,o,c,s,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=document.createElement("a"),n=document.createElement("div"),o=document.createElement("div"),n.setAttribute("gameid",e),o.setAttribute("gameid",e),n.id="whiteTimer",o.id="blackTimer",t.prev=7,t.next=10,p(e,r,(function(){(0,a.JW)(c,!0,n),(0,a.JW)(c,!1,o)}));case 10:c=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),console.log(t.t0);case 16:return s=document.createElement("div"),l=document.createElement("div"),s.ariaLabel="Black Player",l.ariaLabel="White Player",s.appendChild(c.blackUserSpan),s.appendChild(o),l.appendChild(c.whiteUserSpan),l.appendChild(n),r.appendChild(s),r.appendChild(c.div),r.appendChild(l),r.setAttribute("id",e),r.href="".concat(window.location.origin,"/game/").concat(e),(0,i.By)(c,!0),c.whiteClock&&c.blackClock&&((0,a.JW)(c,!0,n),(0,a.JW)(c,!1,o)),t.abrupt("return",r);case 32:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(e){return t.apply(this,arguments)}}())).catch((function(t){return console.log(t)}));case 8:t.sent.forEach((function(t){e.appendChild(t)})),n=document.createElement("button"),o=document.querySelector("dialog"),c=o.firstElementChild,n.innerHTML='<i class="material-symbols-outlined">add</i>\nNew Game',n.addEventListener("click",(function(){o.showModal(),document.addEventListener("click",(function t(e){m(e.target,c)||e.target===n||e.target===n.firstElementChild||(o.close(),document.removeEventListener("click",t))}))})),document.querySelector(".empty").remove(),e.appendChild(n);case 17:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(t,e,r){return new Promise(function(){var n=h(u().mark((function n(i,a){var c;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,o.Np)(t,e,r);case 3:c=n.sent,i(c),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t,e){return n.apply(this,arguments)}}())}function v(){var t=document.createElement("div"),e=document.createElement("h2");e.textContent="No Live Games";var r=document.createElement("div");r.innerHTML=twemoji.parse("😢",{folder:"svg",ext:".svg"}),r.classList.add("large-emoji");var n=document.createElement("button"),o=document.querySelector("dialog"),i=o.firstElementChild;return n.textContent="Create a New Game",n.id="create-game",n.addEventListener("click",(function(){o.showModal(),document.addEventListener("click",(function t(e){m(e.target,i)||e.target===n||(o.close(),document.removeEventListener("click",t))}))})),t.appendChild(r),t.appendChild(e),t.appendChild(n),t.id="no-games",t}function m(t,e){return t===e||!!t.parentElement&&m(t.parentElement,e)}[o,i,a]=c.then?(await c)():c,n()}catch(y){n(y)}}))},617:(t,e,r)=>{r.a(t,(async(t,n)=>{try{r.d(e,{Z:()=>w});var o=r(173),i=r(6),a=r(292),c=r(66),s=r(457),u=t([o,i,a,c,s]);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(){m=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),c=new C(o||[]);return n(a,"_invoke",{value:S(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var y={};s(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,i)&&(y=b);var w=p.prototype=f.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==v(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(w,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(E.prototype),s(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),s(w,c,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function y(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}[o,i,a,c,s]=u.then?(await u)():u;var l=document.querySelector("dialog");(0,c.Z)(l);var h=document.querySelector(".history");h.firstElementChild.addEventListener("click",(function(){h.lastElementChild.classList.toggle("disabled"),h.firstElementChild.lastElementChild.classList.toggle("rotate")}));var f=h.querySelector("#refresh"),d=h.querySelector(".switch > input"),p=h.querySelector(".radio-container > .tabs");function g(){return b.apply(this,arguments)}function b(){var t;return t=m().mark((function t(){var e,r,n,o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=document.querySelector("#user-dropdown > span"),r=!!e&&e.textContent,n=document.querySelector("#game-list"),o=document.querySelector("#game-history-list"),(0,a.Z)(n),(0,s.ZP)(o,!!d.checked&&r,p?w(p):100),f.addEventListener("click",(function(){(0,s.bi)(o,!!d.checked&&r,p?w(p):100)}));case 7:case"end":return t.stop()}}),t)})),b=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){y(i,n,o,a,c,"next",t)}function c(t){y(i,n,o,a,c,"throw",t)}a(void 0)}))},b.apply(this,arguments)}function w(t){var e=t.querySelector('input[type="radio"]:checked');return document.querySelector('label[for="'.concat(e.id,'"]')).textContent}g(),n()}catch(_){n(_)}}))},425:(t,e,r)=>{t.exports=r.p+"assets/images/e196dd569ecbcb92d569.svg"},312:(t,e,r)=>{t.exports=r.p+"assets/images/c83f5581968cfa1416d4.svg"},491:(t,e,r)=>{t.exports=r.p+"assets/images/2806967ff884b67af8fc.svg"},692:(t,e,r)=>{t.exports=r.p+"assets/images/0bac57fcee185c845528.svg"},784:(t,e,r)=>{t.exports=r.p+"assets/images/e475a365a63ab9c3b484.svg"},925:(t,e,r)=>{t.exports=r.p+"assets/images/48665a8ce082e5f12710.svg"},30:(t,e,r)=>{t.exports=r.p+"assets/images/442b87d656904e4eba23.svg"},42:(t,e,r)=>{t.exports=r.p+"assets/images/b2002308f81e96903120.svg"},539:(t,e,r)=>{t.exports=r.p+"assets/images/ae4879833ee0111ba3b2.svg"},738:(t,e,r)=>{t.exports=r.p+"assets/images/dc9544a72b2cf7a92579.svg"},965:(t,e,r)=>{t.exports=r.p+"assets/images/2062ce2d4d0e8d018369.svg"},720:(t,e,r)=>{t.exports=r.p+"assets/images/30871ebbc0ad7f46a1c7.svg"},601:(t,e,r)=>{t.exports=r.p+"assets/images/c051a30b157b9deadd0d.svg"},512:(t,e,r)=>{t.exports=r.p+"assets/sounds/4c0d6b27175ec63ec634.ogg"},315:(t,e,r)=>{t.exports=r.p+"assets/sounds/08e1bc366728c6a042c1.wav"},643:(t,e,r)=>{t.exports=r.p+"assets/sounds/5a58dd80a641cfdf5fb0.ogg"}},i={};function a(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}};return o[t](r,r.exports,a),r.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},a.a=(o,i,a)=>{var c;a&&((c=[]).d=-1);var s,u,l,h=new Set,f=o.exports,d=new Promise(((t,e)=>{l=e,u=t}));d[e]=f,d[t]=t=>(c&&t(c),h.forEach(t),d.catch((t=>{}))),o.exports=d,i((o=>{var i;s=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var i=[];i.d=0,o.then((t=>{a[e]=t,n(i)}),(t=>{a[r]=t,n(i)}));var a={};return a[t]=t=>t(i),a}}var c={};return c[t]=t=>{},c[e]=o,c})))(o);var a=()=>s.map((t=>{if(t[r])throw t[r];return t[e]})),u=new Promise((e=>{(i=()=>e(a)).r=0;var r=t=>t!==c&&!h.has(t)&&(h.add(t),t&&!t.d&&(i.r++,t.push(i)));s.map((e=>e[t](r)))}));return i.r?u:a()}),(t=>(t?l(d[r]=t):u(f),n(c)))),c&&c.d<0&&(c.d=0)},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&!t;)t=r[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t+"../../"})(),a(617)})();